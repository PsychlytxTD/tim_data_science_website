---
title: Automate Exploratory Scatter Plots with R Plotly And Purrrr
author: Timothy Deitz, Clinical Psychologist & Aspiring Data Scientist
date: '2019-08-22'
categories:
  - R
  - plotly
  - purrr
tags:
  - plotly
  - purrr
  - functional programming
output:
  blogdown::html_page:
    toc: yes
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>

<div id="TOC">
<ul>
<li><a href="#set-up">Set Up</a></li>
<li><a href="#simple-scatterplots">Simple Scatterplots</a></li>
<li><a href="#grouped-scatterplots">Grouped Scatterplots</a></li>
</ul>
</div>

<style>
body.blue { background-color:#2b3f60;}
</style>
<body class="blue">
<div id="set-up" class="section level2">
<h2>Set Up</h2>
<p>Before we start, let’s tidy up the mtcars dataset by adding rownames as an explicit variable.</p>
<pre class="r"><code>mtcars$car_name&lt;- rownames(mtcars) 

mtcars&lt;- tibble::remove_rownames(mtcars)</code></pre>
</div>
<div id="simple-scatterplots" class="section level2">
<h2>Simple Scatterplots</h2>
<p>We need scatterplots to understand our data and check important statistical assumptions. Making a simple scatterplot in R is pretty straightforward. In ggplot2, the following code gives you a single scatterplot depicting the relationship between two variables (in this case, disp vs. mpg):</p>
<pre class="r"><code>ggplot(mtcars, aes(x = disp, y = mpg)) + geom_point()</code></pre>
<p><img src="/post/automate_scatterplots/index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Interactive plots often provide more detail than static ones and are especially helpful for examining individual cases:</p>
<pre class="r"><code>plot_ly(mtcars, x = ~disp, y = ~mpg) %&gt;% add_markers()</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"visdat":{"2de21cdab841":["function () ","plotlyVisDat"]},"cur_data":"2de21cdab841","attrs":{"2de21cdab841":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"markers","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"disp"},"yaxis":{"domain":[0,1],"automargin":true,"title":"mpg"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.1,120.1,318,304,350,400,79,120.3,95.1,351,145,301,121],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Excellent! But what if you have 50, 100, or even 500 numeric variables in your dataset? Cut-and-pasting the code above 500 times doesn’t sound too appealing does it?</p>
<p>For this reason, there are functions like pairs() and ggpairs() that print out a panel of side-by-side scatterplots across all numeric variables.</p>
<p>This works great if you only have a few variables, but otherwise plots often appear squashed or have their labels cut off. You lose important information.</p>
<p>Often, I think a better option is to programatically create a list of interactive scatterplots for all numeric variables in the dataset - in one go! Using R studio, we can then scroll through the plots as we please.</p>
<p>Below, the function <code>show_all_scatterplots()</code> accomplishes just this.</p>
<pre class="r"><code>show_all_scatterplots&lt;- function(data, point_identifier, point_size = 10) {
  
  #Select only numeric variables (we can&#39;t plot strings)
  
  numeric_data&lt;- data %&gt;% dplyr::select_if(is.numeric) 
  
  
  #Create a two-column dataframe with all possible pairs of numeric variable names
  
  numeric_pairs&lt;- tibble::tibble(x_variable = names(numeric_data), 
                                 y_variable = x_variable) %&gt;% expand.grid() 
  
  #Iterate over the two columns of numeric variable names we&#39;ve created and use them 
  #to select variable from mtcars programatically
  
  purrr::map2(numeric_pairs$x_variable, numeric_pairs$y_variable, ~ { 
    
    #Create linear models for each pair of variables — required for fitting a line 
    #to each plot
    
    model&lt;- lm(numeric_data[,.y] ~ numeric_data[,.x], data = numeric_data)
    
    #Create the plotly base for the plot. Programmatic mapping in plotly requires us 
    #to specify variables using square bracket notation, rather than the 
    #usual x = ~x, y = ~y. I don&#39;t know why.
    
    plot_ly(numeric_data, x = ~numeric_data[,.x], y = ~numeric_data[,.y],
            hoverinfo = &quot;text&quot;, 
            text = ~paste(&quot;Identifier:&quot;, data[ , point_identifier], &quot;&lt;br&gt;&quot;,
                                              .x, &quot;: &quot;, numeric_data[,.x], &quot;&lt;br&gt;&quot;,
                                              .y, &quot;: &quot;, numeric_data[,.y])) %&gt;%
      add_markers(opacity = 0.5, size = point_size, showlegend = FALSE) %&gt;%
      
      #Add the line of best fit to each plot
      
      add_lines(y = ~fitted(model)) %&gt;%  
      
      layout(title = paste0(.x, &quot; vs &quot;, .y,&quot;:&quot;, &quot; 
                            Correlation = &quot;, round(cor(numeric_data[,.x],
                                                       numeric_data[,.y]), 2)),
             xaxis = list(title = paste(.x)),
             yaxis = list(title = paste(.y)))
  })
  
}</code></pre>
<p>Let’s call the function:</p>
<pre class="r"><code>scatter_plot_list&lt;- show_all_scatterplots(mtcars, point_identifier = &quot;car_name&quot;, 
                                          point_size = 10)</code></pre>
<p>How many plots are in the list?</p>
<pre class="r"><code>length(scatter_plot_list)</code></pre>
<pre><code>## [1] 121</code></pre>
<p>A lot.</p>
<p>Let’s print one out:</p>
<pre class="r"><code>scatter_plot_list[[5]]</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"visdat":{"2de27446c00d":["function () ","plotlyVisDat"]},"cur_data":"2de27446c00d","attrs":{"2de27446c00d":{"x":{},"y":{},"hoverinfo":"text","text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"markers","opacity":0.5,"size":10,"showlegend":false,"inherit":true},"2de27446c00d.1":{"x":{},"y":{},"hoverinfo":"text","text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"lines","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"drat vs mpg: <br />                            Correlation = 0.68","xaxis":{"domain":[0,1],"automargin":true,"title":"drat"},"yaxis":{"domain":[0,1],"automargin":true,"title":"mpg"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Mazda RX4 <br> drat :  3.9 <br> mpg :  21","Identifier: Mazda RX4 Wag <br> drat :  3.9 <br> mpg :  21","Identifier: Datsun 710 <br> drat :  3.85 <br> mpg :  22.8","Identifier: Hornet 4 Drive <br> drat :  3.08 <br> mpg :  21.4","Identifier: Hornet Sportabout <br> drat :  3.15 <br> mpg :  18.7","Identifier: Valiant <br> drat :  2.76 <br> mpg :  18.1","Identifier: Duster 360 <br> drat :  3.21 <br> mpg :  14.3","Identifier: Merc 240D <br> drat :  3.69 <br> mpg :  24.4","Identifier: Merc 230 <br> drat :  3.92 <br> mpg :  22.8","Identifier: Merc 280 <br> drat :  3.92 <br> mpg :  19.2","Identifier: Merc 280C <br> drat :  3.92 <br> mpg :  17.8","Identifier: Merc 450SE <br> drat :  3.07 <br> mpg :  16.4","Identifier: Merc 450SL <br> drat :  3.07 <br> mpg :  17.3","Identifier: Merc 450SLC <br> drat :  3.07 <br> mpg :  15.2","Identifier: Cadillac Fleetwood <br> drat :  2.93 <br> mpg :  10.4","Identifier: Lincoln Continental <br> drat :  3 <br> mpg :  10.4","Identifier: Chrysler Imperial <br> drat :  3.23 <br> mpg :  14.7","Identifier: Fiat 128 <br> drat :  4.08 <br> mpg :  32.4","Identifier: Honda Civic <br> drat :  4.93 <br> mpg :  30.4","Identifier: Toyota Corolla <br> drat :  4.22 <br> mpg :  33.9","Identifier: Toyota Corona <br> drat :  3.7 <br> mpg :  21.5","Identifier: Dodge Challenger <br> drat :  2.76 <br> mpg :  15.5","Identifier: AMC Javelin <br> drat :  3.15 <br> mpg :  15.2","Identifier: Camaro Z28 <br> drat :  3.73 <br> mpg :  13.3","Identifier: Pontiac Firebird <br> drat :  3.08 <br> mpg :  19.2","Identifier: Fiat X1-9 <br> drat :  4.08 <br> mpg :  27.3","Identifier: Porsche 914-2 <br> drat :  4.43 <br> mpg :  26","Identifier: Lotus Europa <br> drat :  3.77 <br> mpg :  30.4","Identifier: Ford Pantera L <br> drat :  4.22 <br> mpg :  15.8","Identifier: Ferrari Dino <br> drat :  3.62 <br> mpg :  19.7","Identifier: Maserati Bora <br> drat :  3.54 <br> mpg :  15","Identifier: Volvo 142E <br> drat :  4.11 <br> mpg :  21.4"],"type":"scatter","mode":"markers","opacity":0.5,"showlegend":false,"marker":{"color":"rgba(31,119,180,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(31,119,180,1)"}},"textfont":{"size":55},"error_y":{"color":"rgba(31,119,180,1)","width":55},"error_x":{"color":"rgba(31,119,180,1)","width":55},"line":{"color":"rgba(31,119,180,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.76,2.76,2.93,3,3.07,3.07,3.07,3.08,3.08,3.15,3.15,3.21,3.23,3.54,3.62,3.69,3.7,3.73,3.77,3.85,3.9,3.9,3.92,3.92,3.92,4.08,4.08,4.11,4.22,4.22,4.43,4.93],"y":[13.6673035388934,13.6673035388934,14.9726030812326,15.5100793633723,16.0475556455119,16.0475556455119,16.0475556455119,16.1243379715319,16.1243379715319,16.6618142536715,16.6618142536715,17.1225082097912,17.2760728618311,19.6563249684496,20.2705835766093,20.8080598587489,20.8848421847689,21.1151891628287,21.4223184669085,22.0365770750682,22.4204887051679,22.4204887051679,22.5740533572078,22.5740533572078,22.5740533572078,23.802570573527,23.802570573527,24.0329175515869,24.8775231378064,24.8775231378064,26.4899519842253,30.3290682852229],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Valiant <br> drat :  2.76 <br> mpg :  18.1","Identifier: Dodge Challenger <br> drat :  2.76 <br> mpg :  15.5","Identifier: Cadillac Fleetwood <br> drat :  2.93 <br> mpg :  10.4","Identifier: Lincoln Continental <br> drat :  3 <br> mpg :  10.4","Identifier: Merc 450SE <br> drat :  3.07 <br> mpg :  16.4","Identifier: Merc 450SL <br> drat :  3.07 <br> mpg :  17.3","Identifier: Merc 450SLC <br> drat :  3.07 <br> mpg :  15.2","Identifier: Hornet 4 Drive <br> drat :  3.08 <br> mpg :  21.4","Identifier: Pontiac Firebird <br> drat :  3.08 <br> mpg :  19.2","Identifier: Hornet Sportabout <br> drat :  3.15 <br> mpg :  18.7","Identifier: AMC Javelin <br> drat :  3.15 <br> mpg :  15.2","Identifier: Duster 360 <br> drat :  3.21 <br> mpg :  14.3","Identifier: Chrysler Imperial <br> drat :  3.23 <br> mpg :  14.7","Identifier: Maserati Bora <br> drat :  3.54 <br> mpg :  15","Identifier: Ferrari Dino <br> drat :  3.62 <br> mpg :  19.7","Identifier: Merc 240D <br> drat :  3.69 <br> mpg :  24.4","Identifier: Toyota Corona <br> drat :  3.7 <br> mpg :  21.5","Identifier: Camaro Z28 <br> drat :  3.73 <br> mpg :  13.3","Identifier: Lotus Europa <br> drat :  3.77 <br> mpg :  30.4","Identifier: Datsun 710 <br> drat :  3.85 <br> mpg :  22.8","Identifier: Mazda RX4 <br> drat :  3.9 <br> mpg :  21","Identifier: Mazda RX4 Wag <br> drat :  3.9 <br> mpg :  21","Identifier: Merc 230 <br> drat :  3.92 <br> mpg :  22.8","Identifier: Merc 280 <br> drat :  3.92 <br> mpg :  19.2","Identifier: Merc 280C <br> drat :  3.92 <br> mpg :  17.8","Identifier: Fiat 128 <br> drat :  4.08 <br> mpg :  32.4","Identifier: Fiat X1-9 <br> drat :  4.08 <br> mpg :  27.3","Identifier: Volvo 142E <br> drat :  4.11 <br> mpg :  21.4","Identifier: Toyota Corolla <br> drat :  4.22 <br> mpg :  33.9","Identifier: Ford Pantera L <br> drat :  4.22 <br> mpg :  15.8","Identifier: Porsche 914-2 <br> drat :  4.43 <br> mpg :  26","Identifier: Honda Civic <br> drat :  4.93 <br> mpg :  30.4"],"type":"scatter","mode":"lines","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="grouped-scatterplots" class="section level2">
<h2>Grouped Scatterplots</h2>
<p>Excellent. But what if we want to look at scatterplots within subgroups? Checking within-groups scatterplots is important to avoid Simpson’s Paradox — a phenomenon whereby a trend appears in several different groups of data but disappears or reverses when those groups are combined.</p>
<p>The new function below, <code>show_all_scatterplots_grouped()</code> takes an additional argument called <em>grouping_variable</em>. This allows it to programmatically generate a list of interactive scatterplots that depict sub-groups and sub-group trends on the same plot!</p>
<pre class="r"><code>show_all_scatterplots_grouped&lt;- function(data, point_identifier, point_size = 10, 
                                         grouping_variable) {


  working_data&lt;- data 

  numeric_pairs&lt;- tibble::tibble(x_variable = names(dplyr::select_if(working_data, 
                                                                     is.numeric)),
                                     y_variable = x_variable) %&gt;% expand.grid()

  #The only way to add a title to our grouping variable legend is via annotation. 
  #The line below sets this up.

  legend_title &lt;- list(yref=&#39;paper&#39;,xref=&quot;paper&quot;,y=1.05,x=1.06, 
                           text= paste(grouping_variable), showarrow=F)


  purrr::map2(numeric_pairs$x_variable, numeric_pairs$y_variable, ~ {

  #Store the name of the x-axis &amp; y-axis variables 
  #(we won&#39;t be able to acces .x or .y once we start a new map() statement)

  x_var&lt;- .x   

  y_var&lt;- .y

 #Make a list of dataframes, based on levels of grouping variable 
 #selected by the user

  split_df&lt;- split(data, data[,grouping_variable])
        
  #For each dataframe in the list, add a group-specific correlation value 
  #and group size

  merged_df&lt;- purrr::map(split_df, 
                          ~dplyr::mutate(., 
                          correlation = round(cor(.x[,x_var], .x[,y_var]), 2),
                          N = nrow(.x)
                          ))
        
  #Merge the list of dataframes back into a single dataframe
        
  merged_df&lt;- do.call(rbind, merged_df)

  #Create a linear model to be able to plot the line of best fit
  #We specify grouped linear models using 
  #multiplication notation: y ~ x * categorical_variable

model&lt;- lm(merged_df[,.y] ~ merged_df[,.x]*as.factor(merged_df[,grouping_variable]), 
             data = merged_df)
        
#Make the plotly base and customise the hover info

 plot_ly(merged_df, x = ~merged_df[,.x], y = ~merged_df[,.y], 
          color = ~as.factor(merged_df[ , grouping_variable]),
          hoverinfo = &quot;text&quot;, 
          text = ~paste(&quot;Identifier:&quot;, merged_df[ , point_identifier], &quot;&lt;br&gt;&quot;,
                     .x, &quot;: &quot;, merged_df[,.x], &quot;&lt;br&gt;&quot;,
                     .y, &quot;: &quot;, merged_df[,.y], &quot;&lt;br&gt;&quot;,
                      &quot;Group Correlation:&quot;, merged_df$correlation, &quot;&lt;br&gt;&quot;,
                      &quot;Group N:&quot;, merged_df$N
                                                  
                )) %&gt;%

    add_markers(opacity = 0.5, size = point_size, showlegend = TRUE) %&gt;%

    add_lines(y = ~fitted(model), showlegend = FALSE) %&gt;%

    #Add our title to the legend

    layout(title = paste0(.x, &quot; vs &quot;, .y,&quot;:&quot;, &quot; Correlation = &quot;, 
                  round(cor(merged_df[,.x], merged_df[,.y]), 2)),
           xaxis = list(title = paste(.x)),
           yaxis = list(title = paste(.y)), annotations = legend_title)

      })

    }</code></pre>
<p>Call <code>show_all_scatterplots_grouped()</code>:</p>
<p>Print one plot from the list of plots returned:</p>
<pre class="r"><code>grouped_scatterplot_list[[23]]</code></pre>
<div id="htmlwidget-3" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"visdat":{"2de23a363a29":["function () ","plotlyVisDat"]},"cur_data":"2de23a363a29","attrs":{"2de23a363a29":{"x":{},"y":{},"hoverinfo":"text","text":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"markers","opacity":0.5,"size":10,"showlegend":true,"inherit":true},"2de23a363a29.1":{"x":{},"y":{},"hoverinfo":"text","text":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"lines","showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"mpg vs disp: Correlation = -0.85","xaxis":{"domain":[0,1],"automargin":true,"title":"mpg"},"yaxis":{"domain":[0,1],"automargin":true,"title":"disp"},"annotations":[{"yref":"paper","xref":"paper","y":1.05,"x":1.06,"text":"cyl","showarrow":false}],"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[22.8,24.4,22.8,32.4,30.4,33.9,21.5,27.3,26,30.4,21.4],"y":[108,146.7,140.8,78.7,75.7,71.1,120.1,79,120.3,95.1,121],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Datsun 710 <br> mpg :  22.8 <br> disp :  108 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Merc 240D <br> mpg :  24.4 <br> disp :  146.7 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Merc 230 <br> mpg :  22.8 <br> disp :  140.8 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Fiat 128 <br> mpg :  32.4 <br> disp :  78.7 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Honda Civic <br> mpg :  30.4 <br> disp :  75.7 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Toyota Corolla <br> mpg :  33.9 <br> disp :  71.1 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Toyota Corona <br> mpg :  21.5 <br> disp :  120.1 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Fiat X1-9 <br> mpg :  27.3 <br> disp :  79 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Porsche 914-2 <br> mpg :  26 <br> disp :  120.3 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Lotus Europa <br> mpg :  30.4 <br> disp :  95.1 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Volvo 142E <br> mpg :  21.4 <br> disp :  121 <br> Group Correlation: -0.81 <br> Group N: 11"],"type":"scatter","mode":"markers","opacity":0.5,"showlegend":true,"name":"4","marker":{"color":"rgba(102,194,165,1)","size":[55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)","size":55},"error_y":{"color":"rgba(102,194,165,1)","width":55},"error_x":{"color":"rgba(102,194,165,1)","width":55},"line":{"color":"rgba(102,194,165,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[21,21,21.4,18.1,19.2,17.8,19.7],"y":[160,160,258,225,167.6,167.6,145],"hoverinfo":["text","text","text","text","text","text","text"],"text":["Identifier: Mazda RX4 <br> mpg :  21 <br> disp :  160 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Mazda RX4 Wag <br> mpg :  21 <br> disp :  160 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Hornet 4 Drive <br> mpg :  21.4 <br> disp :  258 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Valiant <br> mpg :  18.1 <br> disp :  225 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Merc 280 <br> mpg :  19.2 <br> disp :  167.6 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Merc 280C <br> mpg :  17.8 <br> disp :  167.6 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Ferrari Dino <br> mpg :  19.7 <br> disp :  145 <br> Group Correlation: 0.1 <br> Group N: 7"],"type":"scatter","mode":"markers","opacity":0.5,"showlegend":true,"name":"6","marker":{"color":"rgba(252,141,98,1)","size":[55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)","size":55},"error_y":{"color":"rgba(252,141,98,1)","width":55},"error_x":{"color":"rgba(252,141,98,1)","width":55},"line":{"color":"rgba(252,141,98,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[18.7,14.3,16.4,17.3,15.2,10.4,10.4,14.7,15.5,15.2,13.3,19.2,15.8,15],"y":[360,360,275.8,275.8,275.8,472,460,440,318,304,350,400,351,301],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Hornet Sportabout <br> mpg :  18.7 <br> disp :  360 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Duster 360 <br> mpg :  14.3 <br> disp :  360 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Merc 450SE <br> mpg :  16.4 <br> disp :  275.8 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Merc 450SL <br> mpg :  17.3 <br> disp :  275.8 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Merc 450SLC <br> mpg :  15.2 <br> disp :  275.8 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Cadillac Fleetwood <br> mpg :  10.4 <br> disp :  472 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Lincoln Continental <br> mpg :  10.4 <br> disp :  460 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Chrysler Imperial <br> mpg :  14.7 <br> disp :  440 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Dodge Challenger <br> mpg :  15.5 <br> disp :  318 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: AMC Javelin <br> mpg :  15.2 <br> disp :  304 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Camaro Z28 <br> mpg :  13.3 <br> disp :  350 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Pontiac Firebird <br> mpg :  19.2 <br> disp :  400 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Ford Pantera L <br> mpg :  15.8 <br> disp :  351 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Maserati Bora <br> mpg :  15 <br> disp :  301 <br> Group Correlation: -0.52 <br> Group N: 14"],"type":"scatter","mode":"markers","opacity":0.5,"showlegend":true,"name":"8","marker":{"color":"rgba(141,160,203,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)","size":55},"error_y":{"color":"rgba(141,160,203,1)","width":55},"error_x":{"color":"rgba(141,160,203,1)","width":55},"line":{"color":"rgba(141,160,203,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[21.4,21.5,22.8,22.8,24.4,26,27.3,30.4,30.4,32.4,33.9],"y":[130.391084997586,129.911288909549,123.673939765068,123.673939765068,115.997202356475,108.320464947882,102.083115803401,87.2094370742522,87.2094370742522,77.6135153135112,70.4165739929556],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Volvo 142E <br> mpg :  21.4 <br> disp :  121 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Toyota Corona <br> mpg :  21.5 <br> disp :  120.1 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Datsun 710 <br> mpg :  22.8 <br> disp :  108 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Merc 230 <br> mpg :  22.8 <br> disp :  140.8 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Merc 240D <br> mpg :  24.4 <br> disp :  146.7 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Porsche 914-2 <br> mpg :  26 <br> disp :  120.3 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Fiat X1-9 <br> mpg :  27.3 <br> disp :  79 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Honda Civic <br> mpg :  30.4 <br> disp :  75.7 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Lotus Europa <br> mpg :  30.4 <br> disp :  95.1 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Fiat 128 <br> mpg :  32.4 <br> disp :  78.7 <br> Group Correlation: -0.81 <br> Group N: 11","Identifier: Toyota Corolla <br> mpg :  33.9 <br> disp :  71.1 <br> Group Correlation: -0.81 <br> Group N: 11"],"type":"scatter","mode":"lines","showlegend":false,"name":"4","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[17.8,18.1,19.2,19.7,21,21,21.4],"y":[177.587739463601,178.471985575839,181.714221320712,183.187964841109,187.01969799414,187.01969799414,188.198692810458],"hoverinfo":["text","text","text","text","text","text","text"],"text":["Identifier: Merc 280C <br> mpg :  17.8 <br> disp :  167.6 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Valiant <br> mpg :  18.1 <br> disp :  225 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Merc 280 <br> mpg :  19.2 <br> disp :  167.6 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Ferrari Dino <br> mpg :  19.7 <br> disp :  145 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Mazda RX4 <br> mpg :  21 <br> disp :  160 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Mazda RX4 Wag <br> mpg :  21 <br> disp :  160 <br> Group Correlation: 0.1 <br> Group N: 7","Identifier: Hornet 4 Drive <br> mpg :  21.4 <br> disp :  258 <br> Group Correlation: 0.1 <br> Group N: 7"],"type":"scatter","mode":"lines","showlegend":false,"name":"6","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[10.4,10.4,13.3,14.3,14.7,15,15.2,15.2,15.5,15.8,16.4,17.3,18.7,19.2],"y":[417.770234741784,417.770234741784,377.867323943662,364.107699530516,358.603849765258,354.475962441315,351.724037558685,351.724037558685,347.596150234742,343.468262910798,335.212488262911,322.82882629108,303.565352112676,296.685539906103],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Cadillac Fleetwood <br> mpg :  10.4 <br> disp :  472 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Lincoln Continental <br> mpg :  10.4 <br> disp :  460 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Camaro Z28 <br> mpg :  13.3 <br> disp :  350 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Duster 360 <br> mpg :  14.3 <br> disp :  360 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Chrysler Imperial <br> mpg :  14.7 <br> disp :  440 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Maserati Bora <br> mpg :  15 <br> disp :  301 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Merc 450SLC <br> mpg :  15.2 <br> disp :  275.8 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: AMC Javelin <br> mpg :  15.2 <br> disp :  304 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Dodge Challenger <br> mpg :  15.5 <br> disp :  318 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Ford Pantera L <br> mpg :  15.8 <br> disp :  351 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Merc 450SE <br> mpg :  16.4 <br> disp :  275.8 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Merc 450SL <br> mpg :  17.3 <br> disp :  275.8 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Hornet Sportabout <br> mpg :  18.7 <br> disp :  360 <br> Group Correlation: -0.52 <br> Group N: 14","Identifier: Pontiac Firebird <br> mpg :  19.2 <br> disp :  400 <br> Group Correlation: -0.52 <br> Group N: 14"],"type":"scatter","mode":"lines","showlegend":false,"name":"8","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Print another one:</p>
<pre class="r"><code>grouped_scatterplot_list[[55]]</code></pre>
<div id="htmlwidget-4" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"visdat":{"2de26177229":["function () ","plotlyVisDat"]},"cur_data":"2de26177229","attrs":{"2de26177229":{"x":{},"y":{},"hoverinfo":"text","text":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"markers","opacity":0.5,"size":10,"showlegend":true,"inherit":true},"2de26177229.1":{"x":{},"y":{},"hoverinfo":"text","text":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"lines","showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"carb vs drat: Correlation = -0.09","xaxis":{"domain":[0,1],"automargin":true,"title":"carb"},"yaxis":{"domain":[0,1],"automargin":true,"title":"drat"},"annotations":[{"yref":"paper","xref":"paper","y":1.05,"x":1.06,"text":"cyl","showarrow":false}],"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[1,2,2,1,2,1,1,1,2,2,2],"y":[3.85,3.69,3.92,4.08,4.93,4.22,3.7,4.08,4.43,3.77,4.11],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Datsun 710 <br> carb :  1 <br> drat :  3.85 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Merc 240D <br> carb :  2 <br> drat :  3.69 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Merc 230 <br> carb :  2 <br> drat :  3.92 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Fiat 128 <br> carb :  1 <br> drat :  4.08 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Honda Civic <br> carb :  2 <br> drat :  4.93 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Toyota Corolla <br> carb :  1 <br> drat :  4.22 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Toyota Corona <br> carb :  1 <br> drat :  3.7 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Fiat X1-9 <br> carb :  1 <br> drat :  4.08 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Porsche 914-2 <br> carb :  2 <br> drat :  4.43 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Lotus Europa <br> carb :  2 <br> drat :  3.77 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Volvo 142E <br> carb :  2 <br> drat :  4.11 <br> Group Correlation: 0.22 <br> Group N: 11"],"type":"scatter","mode":"markers","opacity":0.5,"showlegend":true,"name":"4","marker":{"color":"rgba(102,194,165,1)","size":[55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)","size":55},"error_y":{"color":"rgba(102,194,165,1)","width":55},"error_x":{"color":"rgba(102,194,165,1)","width":55},"line":{"color":"rgba(102,194,165,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[4,4,1,1,4,4,6],"y":[3.9,3.9,3.08,2.76,3.92,3.92,3.62],"hoverinfo":["text","text","text","text","text","text","text"],"text":["Identifier: Mazda RX4 <br> carb :  4 <br> drat :  3.9 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Mazda RX4 Wag <br> carb :  4 <br> drat :  3.9 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Hornet 4 Drive <br> carb :  1 <br> drat :  3.08 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Valiant <br> carb :  1 <br> drat :  2.76 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Merc 280 <br> carb :  4 <br> drat :  3.92 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Merc 280C <br> carb :  4 <br> drat :  3.92 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Ferrari Dino <br> carb :  6 <br> drat :  3.62 <br> Group Correlation: 0.78 <br> Group N: 7"],"type":"scatter","mode":"markers","opacity":0.5,"showlegend":true,"name":"6","marker":{"color":"rgba(252,141,98,1)","size":[55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)","size":55},"error_y":{"color":"rgba(252,141,98,1)","width":55},"error_x":{"color":"rgba(252,141,98,1)","width":55},"line":{"color":"rgba(252,141,98,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[2,4,3,3,3,4,4,4,2,2,4,2,4,8],"y":[3.15,3.21,3.07,3.07,3.07,2.93,3,3.23,2.76,3.15,3.73,3.08,4.22,3.54],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Hornet Sportabout <br> carb :  2 <br> drat :  3.15 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Duster 360 <br> carb :  4 <br> drat :  3.21 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Merc 450SE <br> carb :  3 <br> drat :  3.07 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Merc 450SL <br> carb :  3 <br> drat :  3.07 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Merc 450SLC <br> carb :  3 <br> drat :  3.07 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Cadillac Fleetwood <br> carb :  4 <br> drat :  2.93 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Lincoln Continental <br> carb :  4 <br> drat :  3 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Chrysler Imperial <br> carb :  4 <br> drat :  3.23 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Dodge Challenger <br> carb :  2 <br> drat :  2.76 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: AMC Javelin <br> carb :  2 <br> drat :  3.15 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Camaro Z28 <br> carb :  4 <br> drat :  3.73 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Pontiac Firebird <br> carb :  2 <br> drat :  3.08 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Ford Pantera L <br> carb :  4 <br> drat :  4.22 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Maserati Bora <br> carb :  8 <br> drat :  3.54 <br> Group Correlation: 0.43 <br> Group N: 14"],"type":"scatter","mode":"markers","opacity":0.5,"showlegend":true,"name":"8","marker":{"color":"rgba(141,160,203,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)","size":55},"error_y":{"color":"rgba(141,160,203,1)","width":55},"error_x":{"color":"rgba(141,160,203,1)","width":55},"line":{"color":"rgba(141,160,203,1)","width":55},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,1,1,1,1,2,2,2,2,2,2],"y":[3.98600000000001,3.986,3.986,3.986,3.986,4.14166666666667,4.14166666666667,4.14166666666667,4.14166666666667,4.14166666666667,4.14166666666667],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Datsun 710 <br> carb :  1 <br> drat :  3.85 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Fiat 128 <br> carb :  1 <br> drat :  4.08 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Toyota Corolla <br> carb :  1 <br> drat :  4.22 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Toyota Corona <br> carb :  1 <br> drat :  3.7 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Fiat X1-9 <br> carb :  1 <br> drat :  4.08 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Merc 240D <br> carb :  2 <br> drat :  3.69 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Merc 230 <br> carb :  2 <br> drat :  3.92 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Honda Civic <br> carb :  2 <br> drat :  4.93 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Porsche 914-2 <br> carb :  2 <br> drat :  4.43 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Lotus Europa <br> carb :  2 <br> drat :  3.77 <br> Group Correlation: 0.22 <br> Group N: 11","Identifier: Volvo 142E <br> carb :  2 <br> drat :  4.11 <br> Group Correlation: 0.22 <br> Group N: 11"],"type":"scatter","mode":"lines","showlegend":false,"name":"4","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,1,4,4,4,4,6],"y":[3.08521739130435,3.08521739130435,3.70347826086957,3.70347826086957,3.70347826086957,3.70347826086957,4.11565217391304],"hoverinfo":["text","text","text","text","text","text","text"],"text":["Identifier: Hornet 4 Drive <br> carb :  1 <br> drat :  3.08 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Valiant <br> carb :  1 <br> drat :  2.76 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Mazda RX4 <br> carb :  4 <br> drat :  3.9 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Mazda RX4 Wag <br> carb :  4 <br> drat :  3.9 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Merc 280 <br> carb :  4 <br> drat :  3.92 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Merc 280C <br> carb :  4 <br> drat :  3.92 <br> Group Correlation: 0.78 <br> Group N: 7","Identifier: Ferrari Dino <br> carb :  6 <br> drat :  3.62 <br> Group Correlation: 0.78 <br> Group N: 7"],"type":"scatter","mode":"lines","showlegend":false,"name":"6","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2,2,2,2,3,3,3,4,4,4,4,4,4,8],"y":[3.07333333333333,3.07333333333333,3.07333333333333,3.07333333333333,3.17730158730159,3.17730158730159,3.17730158730159,3.28126984126984,3.28126984126984,3.28126984126984,3.28126984126984,3.28126984126984,3.28126984126984,3.69714285714286],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Identifier: Hornet Sportabout <br> carb :  2 <br> drat :  3.15 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Dodge Challenger <br> carb :  2 <br> drat :  2.76 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: AMC Javelin <br> carb :  2 <br> drat :  3.15 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Pontiac Firebird <br> carb :  2 <br> drat :  3.08 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Merc 450SE <br> carb :  3 <br> drat :  3.07 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Merc 450SL <br> carb :  3 <br> drat :  3.07 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Merc 450SLC <br> carb :  3 <br> drat :  3.07 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Duster 360 <br> carb :  4 <br> drat :  3.21 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Cadillac Fleetwood <br> carb :  4 <br> drat :  2.93 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Lincoln Continental <br> carb :  4 <br> drat :  3 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Chrysler Imperial <br> carb :  4 <br> drat :  3.23 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Camaro Z28 <br> carb :  4 <br> drat :  3.73 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Ford Pantera L <br> carb :  4 <br> drat :  4.22 <br> Group Correlation: 0.43 <br> Group N: 14","Identifier: Maserati Bora <br> carb :  8 <br> drat :  3.54 <br> Group Correlation: 0.43 <br> Group N: 14"],"type":"scatter","mode":"lines","showlegend":false,"name":"8","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>The plot above is an example of Simpson’s Paradox! Note how there is almost no relationship between carb and drat when considering all cases as one group, but positive correlations between these variables when we consider subgroups! (with the caveat of small sample sizes)</p>
<p>That’s it for now. I could find very little info online about automating exploratory plots using plotly and purrr, and hope this post helps speed up your data exploration. Of course, feel free to get in touch if you have any questions.</p>
</body>
</div>
